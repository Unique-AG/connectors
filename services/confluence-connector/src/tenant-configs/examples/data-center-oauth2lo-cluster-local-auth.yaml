# Example: Confluence Data Center with OAuth 2.0 (2LO) + Cluster-Local Unique API auth
#
# This configuration is suitable for Confluence Data Center instances
# where authentication uses OAuth 2.0 two-legged (2LO), and the Unique platform
# is accessed within the same Kubernetes cluster using service headers.
#
# Secrets are resolved from environment variables at startup via "os.environ/VAR_NAME" references:
#   - CONFLUENCE_CLIENT_SECRET -> confluence.auth.clientSecret

confluence:
  instanceType: data-center
  baseUrl: https://confluence.your-company.com
  auth:
    mode: oauth_2lo
    clientId: your-confluence-app-client-id
    clientSecret: os.environ/CONFLUENCE_CLIENT_SECRET
  apiRateLimitPerMinute: 50
  ingestSingleLabel: ai-ingest
  ingestAllLabel: ai-ingest-all

unique:
  serviceAuthMode: cluster_local
  serviceExtraHeaders:
    x-company-id: your-company-id
    x-user-id: your-user-id
  ingestionServiceBaseUrl: http://node-ingestion-service:8080
  scopeManagementServiceBaseUrl: http://scope-management-service:8080
  apiRateLimitPerMinute: 100

processing:
  stepTimeoutSeconds: 600
  concurrency: 1
  scanIntervalCron: "0 */2 * * *"

ingestion:
  ingestionMode: flat
  scopeId: your-scope-id
  ingestFiles: enabled
  allowedFileExtensions:
    - pdf
    - docx
    - xlsx
