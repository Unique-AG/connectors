{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "connector": {
      "type": "object",
      "description": "Configuration for the backend-service dependency",
      "additionalProperties": true
    },
    "grafana": {
      "type": "object",
      "description": "Grafana dashboard configuration",
      "properties": {
        "dashboard": {
          "type": "object",
          "properties": {
            "enabled": {
              "type": "boolean",
              "description": "Enable Grafana dashboard creation"
            },
            "folder": {
              "type": "string",
              "description": "Grafana folder name for the dashboard"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "connectorConfig": {
      "type": "object",
      "description": "SharePoint connector configuration",
      "properties": {
        "enabled": {
          "type": "boolean",
          "description": "Wether to use the connector config."
        },
        "allowedMimeTypes": {
          "type": "string",
          "description": "Comma-separated list of allowed MIME types for file processing"
        },
        "processingConcurrency": {
          "type": "string",
          "description": "Number of concurrent processing operations"
        },
        "stepTimeoutSeconds": {
          "type": "string",
          "description": "Timeout in seconds for processing steps"
        },
        "graph": {
          "type": "object",
          "description": "Microsoft Graph API configuration",
          "properties": {
            "tenantId": {
              "type": "string",
              "description": "Azure AD tenant ID"
            },
            "useOidcAuth": {
              "type": "string",
              "description": "Enable OIDC authentication"
            },
            "apiUrl": {
              "type": "string",
              "description": "Microsoft Graph API URL"
            },
            "clientId": {
              "type": ["string", "null"],
              "description": "Microsoft Graph client ID"
            },
            "clientSecret": {
              "type": ["string", "null"],
              "description": "Microsoft Graph client secret"
            }
          },
          "additionalProperties": false
        },
        "sharepoint": {
          "type": "object",
          "description": "SharePoint configuration",
          "properties": {
            "baseUrl": {
              "type": "string",
              "description": "SharePoint base URL"
            },
            "maxFilesToScan": {
              "type": "string",
              "description": "Maximum number of files to scan"
            },
            "sites": {
              "type": "string",
              "description": "SharePoint sites configuration"
            },
            "syncColumnName": {
              "type": "string",
              "description": "Column name for synchronization"
            }
          },
          "additionalProperties": false
        },
        "unique": {
          "type": "object",
          "description": "Unique platform configuration",
          "properties": {
            "fileDiffBasePath": {
              "type": "string",
              "description": "Base path for file differences"
            },
            "fileDiffUrl": {
              "type": "string",
              "description": "URL for file differences"
            },
            "ingestionGraphqlUrl": {
              "type": "string",
              "description": "GraphQL URL for data ingestion"
            },
            "scopeId": {
              "type": ["string", "null"],
              "description": "Scope ID for scope based ingestion"
            }
          },
          "additionalProperties": false
        },
        "zitadel": {
          "type": "object",
          "description": "Zitadel authentication configuration",
          "properties": {
            "clientId": {
              "type": "string",
              "description": "Zitadel client ID"
            },
            "clientSecret": {
              "type": "string",
              "description": "Zitadel client secret"
            },
            "oauthTokenUrl": {
              "type": "string",
              "description": "OAuth token URL"
            },
            "projectId": {
              "type": "string",
              "description": "Zitadel project ID"
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    }
  },
  "additionalProperties": false
}
